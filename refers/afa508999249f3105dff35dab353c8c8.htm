<html>
	<head>
		<meta charset="utf-8"></meta>
		<title>ptrace从i386到x64_朱乐乐在路上的博客&ndash;CSDN博客</title>
	</head>
	<body class="nodata " style="" data-new-gr-c-s-check-loaded="8.904.0" data-gr-ext-installed="">
		<body>Original&nbsp;Link:&nbsp;
			<b>
				<font color="#000080" size="3">UPDATE by &reg; UNI TOOL - &copy; 2016. All rights reserved - to0d@outlook.com, at Tue Nov 15 16:10:34 CST 2022</font>
			</b>
			<br>

			<a href="https://blog.csdn.net/zgl07/article/details/42914407" target="_blank">
				<font color="red" size="3">ptrace从i386到x64_朱乐乐在路上的博客&ndash;CSDN博客</font>
			</a>
			<p></p>
		</body>
		<div class="blog-content-box">
			<div class="article-header-box">
				<div class="article-header">
					<div class="article-title-box">
						<h1 class="title-article" id="articleContentId">ptrace从i386到x64</h1>
					</div>
					<div class="article-info-box">
						<div class="article-bar-top">
							<img class="article-type-img" src="ptrace从i386到x64_朱乐乐在路上的博客-CSDN博客_files/original.png" alt="">
								<div class="bar-content">
									<a class="follow-nickName " href="https://blog.csdn.net/zgl07" target="_blank" rel="noopener">朱乐乐在路上</a>
									<img class="article-time-img article-heard-img" src="ptrace从i386到x64_朱乐乐在路上的博客-CSDN博客_files/newCurrentTime2.png" alt="">
										<span class="time">于&nbsp;2015&ndash;01&ndash;20&nbsp;10:31:54&nbsp;发布</span>
										<img class="article-read-img article-heard-img" src="ptrace从i386到x64_朱乐乐在路上的博客-CSDN博客_files/articleReadEyes2.png" alt="">
											<span class="read-count">1379</span>
											<a id="blog_detail_zk_collection" class="un-collection" data-report-click="{&quot;mod&quot;:&quot;popu_823&quot;,&quot;spm&quot;:&quot;1001.2101.3001.4232&quot;,&quot;ab&quot;:&quot;new&quot;}">
												<img class="article-collect-img article-heard-img un-collect-status isdefault" style="display:inline-block" src="ptrace从i386到x64_朱乐乐在路上的博客-CSDN博客_files/tobarCollect2.png" alt="">
													<img class="article-collect-img article-heard-img collect-status isactive" style="display:none" src="ptrace从i386到x64_朱乐乐在路上的博客-CSDN博客_files/tobarCollectionActive2.png" alt="">
														<span class="name">收藏</span>
														<span class="get-collection"></span>
													</img>
												</img>
											</a>
										</img>
									</img>
								</div>
							</img>
						</div>
						<div class="blog-tags-box">
							<div class="tags-box artic-tag-box">
								<span class="label">分类专栏：</span>
								<a class="tag-link" href="https://blog.csdn.net/zgl07/category_2844999.html" target="_blank" rel="noopener">ptrace</a>
							</div>
						</div>
						<div class="slide-content-box">
							<div class="article-copyright">
								<div class="creativecommons">版权声明：本文为博主原创文章，遵循
									<a href="http://creativecommons.org/licenses/by-sa/4.0/" target="_blank" rel="noopener">CC&nbsp;4.0&nbsp;BY&ndash;SA</a>
									版权协议，转载请附上原文出处链接和本声明。
								</div>
								<div class="article-source-link">本文链接：
									<a href="https://blog.csdn.net/zgl07/article/details/42914407" target="_blank">https://blog.csdn.net/zgl07/article/details/42914407</a>
								</div>
							</div>
						</div>
						<div class="operating">
							<a class="href-article-edit slide-toggle">版权</a>
						</div>
					</div>
				</div>
			</div>
			<div id="blogColumnPayAdvert">
				<div class="column-group">
					<div class="column-group-item column-group0 column-group-item-one">
						<div class="item-l">
							<a class="item-target" href="https://blog.csdn.net/zgl07/category_2844999.html" target="_blank" title="ptrace" data-report-click="{&quot;spm&quot;:&quot;1001.2101.3001.6332&quot;}">
								<img class="item-target" src="ptrace从i386到x64_朱乐乐在路上的博客-CSDN博客_files/20201014180756724.png" alt="">
									<span class="title item-target">
										<span>
											<span class="tit">ptrace</span>
											<span class="dec">专栏收录该内容</span>
										</span>
									</span>
								</img>
							</a>
						</div>
						<div class="item-m">
							<span>5&nbsp;篇文章</span>
							<span>0&nbsp;订阅</span>
						</div>
						<div class="item-r">
							<a class="item-target article-column-bt articleColumnFreeBt" data-id="2844999">订阅专栏</a>
						</div>
					</div>
				</div>
			</div>
			<article class="baidu_pl">
				<div id="article_content" class="article_content clearfix">
					<link rel="stylesheet" href="ptrace%E4%BB%8Ei386%E5%88%B0x64_%E6%9C%B1%E4%B9%90%E4%B9%90%E5%9C%A8%E8%B7%AF%E4%B8%8A%E7%9A%84%E5%8D%9A%E5%AE%A2-CSDN%E5%8D%9A%E5%AE%A2_files/ck_htmledit_views-6e43165c0a.css">
						<div id="content_views" class="htmledit_views">
							<div>
								<span style="line-height:20px; font-family:Consolas,'Courier New',Courier,mono,serif; font-size:12px">我们之前学习ptrace的材料都是i386的，常常报错</span>
								<span style="line-height:20px; font-family:Consolas,'Courier New',Courier,mono,serif; font-size:12px">error:&nbsp;&lsquo;struct&nbsp;user_regs_struct&rsquo;&nbsp;has&nbsp;no&nbsp;member&nbsp;named&nbsp;&lsquo;eip&rsquo;</span>
							</div>
							<div>
								<span style="font-family:Consolas,Courier New,Courier,mono,serif; font-size:12px">
									<span style="line-height:20px">这是由于包含文件的问题，在i386结构下我们包含的头文件是&lt;linux/user.h&gt;</span>
								</span>
							</div>
							<div>
								<span style="font-family:Consolas,Courier New,Courier,mono,serif; font-size:12px">
									<span style="line-height:20px">在x64机器上需要进行修改，改成&lt;sys/user.h&gt;</span>
								</span>
							</div>
							<div>
								<span style="font-family:Consolas,Courier New,Courier,mono,serif; font-size:12px">
									<span style="line-height:20px">在x64机器上我们看到</span>
								</span>
							</div>
							<div>
								<span style="font-family:Consolas,Courier New,Courier,mono,serif; font-size:12px">
									<span style="line-height:20px">其实最终访问的文件是/usr/include/x86_64&ndash;linux&ndash;gnu/sys/user.h&nbsp;</span>
								</span>
							</div>
							<div>
								<span style="font-family:Consolas,Courier New,Courier,mono,serif; font-size:12px">
									<span style="line-height:20px">这里面对寄存器的命名有一些差别，大家自己看就能看懂。</span>
								</span>
							</div>
							<div>
								<span style="font-family:Consolas,Courier New,Courier,mono,serif; font-size:12px">
									<span style="line-height:20px">
										<br>

									</span>
								</span>
							</div>
							<div>
								<span style="font-family:Consolas,Courier New,Courier,mono,serif; font-size:12px">
									<span style="line-height:20px">
										<br>

									</span>
								</span>
							</div>
						</div>
						<div>
							<div></div>
						</div>
					</link>
				</div>
			</article>
		</div>
	</body>
</html>
