<html>
    <head>
        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
        <title>TC151227B.cpp</title>
        <link rel="stylesheet" href="css/font-awesome.min.css">
        <link rel="stylesheet" href="css/inote_md.css">
		<link rel="stylesheet" href="css/inote_md_tb1.css">
    </head>
<body style="word-wrap:break-word" bgcolor="#CCE8CF">
    <div id="in-main">
        <div class="in-header">
            <h1>TC151227B.cpp</h1>
            <h3>chapter 08 八皇后问题</h3>
            <ul id="in-tl"><li><strong>HEAD TAGS: </strong> <a href="../tags/N-Queens.html" target="_blank" id="inlntag"><i class="fa fa-tags fa-fw"></i>N-Queens</a>&nbsp;<a href="../tags/45283a62.html" target="_blank" id="inlntag"><i class="fa fa-tags fa-fw"></i>程序员面试宝典</a>&nbsp;</li><li><strong>BLOCK TAGS: </strong> </li></ul>
            <div id="in-ttb"></div>
            <hr/>
        </div>
    
    	<hr/>
<pre><code>#include &lt;lt_help/lt.h&gt;

/*

如何能够在 8×8 的国际象棋棋盘上放置八个皇后，使得任何一个皇后
都无法直接吃掉其他的皇后？为了达到此目的，任两个皇后都不能处于
同一条横行、纵行或斜线上

*/
using namespace std;

//#define OUTPUT

#ifdef OUTPUT
static int output_index = 0;
#endif

int _findQueue(int* y, int x, int n)
{
    if( x == n )
    {
#ifdef OUTPUT
        printf("%03d: ",++output_index);
        for( int i = 0; i &lt; n; ++i)
            printf(" %d",y[i]);

        printf("\n");
#endif
        return 1;
    }

    int count = 0 ;
    for( int v = 0; v &lt; n; ++v)
    {
        bool confic = false;
        for(int x1 = 0; x1 &lt; x && !confic; ++x1)
        {
            int y1 = y[x1];
            if( y1 == v)
            {
                confic = true;
                break;
            }

            int dx = abs(x-x1);
            int dy = abs(v-y1);
            if( dx == dy)
            {
                confic = true;
                break;
            }
        }

        if(confic)
            continue;

        y[x] = v;

        count += _findQueue(y,x+1,n);		
    }

    return count;
}

int findQueue(int n)
{
#ifdef OUTPUT
    output_index = 0;
#endif

    int* y = new int [n];

    int count = _findQueue(y,0,n);

    delete [] y;

    return count;
}

void test(int n)
{
    int out = findQueue(n);
    cout &lt;&lt; "input: " &lt;&lt; n &lt;&lt; "; output: " &lt;&lt; out &lt;&lt; endl;
}

int main(void)
{
    test(8);
    return 0;
}</code></pre>
    
    <hr>
    <font color="#000080" size="1">&reg; UNI TOOL</font><br>
    <script language="javascript" src="js/note-toggle.js"></script>
    <script language="javascript" src="js/note-open.js"></script>
    </div>
</body>
</html>
